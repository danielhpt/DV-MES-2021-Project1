<!DOCTYPE html>
<html>
<head>
    <title>Data Visualization</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="stylesheets/style.css">
    <script>
        let onLoad = function () {
            // Top 10 councils with the largest population in Portugal, in 2018
            const cities = ['Lisboa', 'Sintra', 'Vila Nova de Gaia', 'Porto', 'Cascais', 'Loures', 'Braga', 'Amadora', 'Oeiras', 'Matosinhos'];
            const pop2018 = [507220, 388434, 299938, 215284, 212474, 211359, 181919, 181724, 176218, 174382];
            // Populations of those cities in 2011
            const pop2011 = [547733, 377835, 302295, 237591, 206479, 205054, 181494, 175136, 172120, 175478];
            // Longitude and latitude (x, y)
            const citGeo = [
                    {x: -9.13333,y: 38.71667},
                    {x: -9.37826,y: 38.80097},
                    {x: -8.61742,y: 41.13363},
                    {x: -8.61099,y: 41.14961},
                    {x: -9.42146,y: 38.69790},
                    {x: -9.16845,y: 38.83091},
                    {x: -8.42005,y: 41.55032},
                    {x: -9.23083,y: 38.75382},
                    {x: -9.31460,y: 38.69690},
                    {x: -8.69630,y: 41.18440}
                ];
            // Longitude, latitude and population in 2018 (x, y, r)
            const citGeoPop = [  // population divided by 10000 for scale
                {x: -9.13333,y: 38.71667,r: 50.7220},
                {x: -9.37826,y: 38.80097,r: 38.8434},
                {x: -8.61742,y: 41.13363,r: 29.9938},
                {x: -8.61099,y: 41.14961,r: 21.5284},
                {x: -9.42146,y: 38.69790,r: 21.2474},
                {x: -9.16845,y: 38.83091,r: 21.1359},
                {x: -8.42005,y: 41.55032,r: 18.1919},
                {x: -9.23083,y: 38.75382,r: 18.1724},
                {x: -9.31460,y: 38.69690,r: 17.6218},
                {x: -8.69630,y: 41.18440,r: 17.4382}
            ];

            const colors = [
                'rgba(109, 198, 42, 0.7)',
                'rgba(23, 54, 120, 0.7)',
                'rgba(23, 120, 105, 0.7)',
                'rgba(23, 120, 54, 0.7)',
                'rgba(120, 120, 23, 0.7)',
                'rgba(120, 86, 23, 0.7)',
                'rgba(120, 23, 23, 0.7)',
                'rgba(120, 23, 58, 0.7)',
                'rgba(120, 23, 102, 0.7)',
                'rgba(102, 23, 120, 0.7)',
                'rgba(58, 23, 120, 0.7)',
                'rgba(29, 23, 120, 0.7)',
            ];

            new Chart(document.getElementById("myChart_1"), {
                type: 'bar',

                data: {
                    labels: cities,
                    datasets: [{
                        label: "Population",
                        data: pop2018,
                        backgroundColor: 'rgba(109, 198, 42, 0.9)'
                    }]
                },
                options: {}
            });

            new Chart(document.getElementById("myChart_2"), {
                type: 'line',
                data: {
                    labels: cities,
                    datasets: [{
                        label: "Population",
                        data: pop2018,
                        backgroundColor: 'rgba(109, 198, 42, 1)'
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });

            new Chart(document.getElementById("myChart_3"), {
                type: 'pie', // doughnut, pie
                data: {
                    labels: cities,
                    datasets: [{
                        label: "Population",
                        data: pop2018,
                        backgroundColor: colors
                    }]
                },
                options: {}
            });

            new Chart(document.getElementById("myChart_4"), {
                type: 'radar',
                data: {
                    labels: cities,
                    datasets: [{
                        label: "Population in 2018",
                        data: pop2018,
                        fill: true,
                        backgroundColor: 'rgba(255, 99, 132, 0.2)',
                        borderColor: 'rgb(255, 99, 132)',
                    },{
                        label: "Population in 2011",
                        data: pop2011,
                        fill: true,
                        backgroundColor: 'rgba(54, 162, 235, 0.2)',
                        borderColor: 'rgb(54, 162, 235)',
                    }]
                },
                options: {
                    scales: {
                        r: {
                            beginAtZero: true
                        }
                    }
                }
            });

            new Chart(document.getElementById("myChart_5"), {
                type: 'scatter',
                data: {
                    labels: cities,
                    datasets: [{
                        data: citGeo,
                        backgroundColor: colors
                    }]
                },
                options: {
                    scales: {
                        x: {
                            type: 'linear',
                            position: 'bottom'
                        }
                    }
                }
            });

            new Chart(document.getElementById("myChart_6"), {
                type: 'bubble',
                data: {
                    labels: cities,
                    datasets: [{
                        data: citGeoPop,
                        backgroundColor: colors
                    }]
                },
                options: {
                    scales: {
                        x: {
                            type: 'linear',
                            position: 'bottom'
                        }
                    }
                }
            });
        };
    </script>
</head>
<body onload="onLoad()">
<div class="divTable">
    <div class="divTableBody">
        <div class="divTableRow">
            <div class="divTableCell">
                <canvas id="myChart_1"></canvas>
            </div>
            <div class="divTableCell">
                <canvas id="myChart_2"></canvas>
            </div>
        </div>
        <div class="divTableRow row">
            <div class="divTableCell">
                <canvas id="myChart_3"></canvas>
            </div>
            <div class="divTableCell">
                <canvas id="myChart_4"></canvas>
            </div>
        </div>
        <div class="divTableRow row">
            <div class="divTableCell">
                <canvas id="myChart_5"></canvas>
            </div>
            <div class="divTableCell">
                <canvas id="myChart_6"></canvas>
            </div>
        </div>
    </div>
</div>
</body>
</html>